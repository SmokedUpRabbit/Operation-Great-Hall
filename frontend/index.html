<script>
    const canvas = document.getElementById('sharedCanvas');
    const context = canvas.getContext('2d');
    let isDrawing = false;

    // Set drawing style
    context.strokeStyle = '#00B8D4'; // The cyan color from our theme
    context.lineWidth = 3;
    context.lineCap = 'round';
    context.lineJoin = 'round';

    function startDrawing(e) {
        isDrawing = true;
        draw(e); // Start drawing immediately at the point of click
    }

    function stopDrawing() {
        isDrawing = false;
        context.beginPath(); // Reset the path to start a new line next time
    }

    function draw(e) {
        if (!isDrawing) return;

        // Get coordinates relative to the canvas
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        context.lineTo(x, y);
        context.stroke();
        context.beginPath();
        context.moveTo(x, y);
    }

    // Event Listeners for mouse actions
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mouseout', stopDrawing); // Stop drawing if mouse leaves canvas
</script>
        </div>
    </div>

    <script>
        // ... all the javascript code for drawing ...
    </script>

</body>
</html>

